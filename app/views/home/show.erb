 
   <!-- pie chart js 시작-->
   <script type="text/javascript" src="https://www.google.com/jsapi"></script>
   <!-- pie chart js 끝-->
   
   <!-- 학점 chart 시작 -->
    <script type="text/javascript">
      google.load("visualization", "1", {packages:["corechart"]});
      google.setOnLoadCallback(drawChart);
      function drawChart() {

        var data = google.visualization.arrayToDataTable([
          ['Task', 'Hours per Day'],
          ['A+', <%= @a_count_a %>],
          ['B+', <%= @a_count_b %>],
          ['C+', <%= @a_count_c %>]
         
        ]);

        var options = {
          title: 'My Daily Activities',
          backgroundColor: '#F5F5F5',
          chartArea:{left:0,top:0,width:"100%",height:"100%"},
          height: 300,
          width: 300,
          fontSize: 13
        };

        var chart = new google.visualization.PieChart(document.getElementById('piechart'));

        chart.draw(data, options);
      }
    </script>
   <!-- 학점 chart 끝 -->
   
   <!-- 시험 chart 시작 -->
    <script type="text/javascript">
      google.load("visualization", "1", {packages:["corechart"]});
      google.setOnLoadCallback(drawChart);
      function drawChart() {

        var data = google.visualization.arrayToDataTable([
          ['Task', 'Hours per Day'],
          ['A+', <%= @b_count_a %>],
          ['B+', <%= @b_count_b %>],
          ['C+', <%= @b_count_c %>]
         
        ]);

        var options = {
          title: 'My Daily Activities',
          backgroundColor: '#F5F5F5',
          chartArea:{left:0,top:0,width:"100%",height:"100%"},
          height: 300,
          width: 300,
          fontSize: 13
        };

        var chart = new google.visualization.PieChart(document.getElementById('piechart_2'));

        chart.draw(data, options);
      }
    </script>
   <!-- 시험 chart 끝 -->
   
   <!-- 과제 chart 시작 -->
    <script type="text/javascript">
      google.load("visualization", "1", {packages:["corechart"]});
      google.setOnLoadCallback(drawChart);
      function drawChart() {

        var data = google.visualization.arrayToDataTable([
          ['Task', 'Hours per Day'],
          ['A+', <%= @c_count_a %>],
          ['B+', <%= @c_count_b %>],
          ['C+', <%= @c_count_c %>]
         
        ]);

        var options = {
          title: 'My Daily Activities',
          backgroundColor: '#F5F5F5',
          chartArea:{left:0,top:0,width:"100%",height:"100%"},
          height: 300,
          width: 300,
          fontSize: 13
        };

        var chart = new google.visualization.PieChart(document.getElementById('piechart_3'));

        chart.draw(data, options);
      }
    </script>
   <!-- 과제 chart 끝 -->
   
   <!-- 강의력 chart 시작 -->
    <script type="text/javascript">
      google.load("visualization", "1", {packages:["corechart"]});
      google.setOnLoadCallback(drawChart);
      function drawChart() {

        var data = google.visualization.arrayToDataTable([
          ['Task', 'Hours per Day'],
          ['A+', <%= @d_count_a %>],
          ['B+', <%= @d_count_b %>],
          ['C+', <%= @d_count_c %>]
         
        ]);

        var options = {
          title: 'My Daily Activities',
          backgroundColor: '#F5F5F5',
          chartArea:{left:0,top:0,width:"100%",height:"100%"},
          height: 300,
          width: 300,
          fontSize: 13
        };

        var chart = new google.visualization.PieChart(document.getElementById('piechart_4'));

        chart.draw(data, options);
      }
    </script>
   <!-- 강의력 chart 끝 -->
   
   <!-- 재미 chart 시작 -->
    <script type="text/javascript">
      google.load("visualization", "1", {packages:["corechart"]});
      google.setOnLoadCallback(drawChart);
      function drawChart() {

        var data = google.visualization.arrayToDataTable([
          ['Task', 'Hours per Day'],
          ['A+', <%= @e_count_a %>],
          ['B+', <%= @e_count_b %>],
          ['C+', <%= @e_count_c %>]
         
        ]);

        var options = {
          title: 'My Daily Activities',
          backgroundColor: '#F5F5F5',
          chartArea:{left:0,top:0,width:"100%",height:"100%"},
          height: 300,
          width: 300,
          fontSize: 13
        };

        var chart = new google.visualization.PieChart(document.getElementById('piechart_5'));

        chart.draw(data, options);
      }
    </script>
   <!-- 재미 chart 끝 -->
   
   <!-- 소통 chart 시작 -->
    <script type="text/javascript">
      google.load("visualization", "1", {packages:["corechart"]});
      google.setOnLoadCallback(drawChart);
      function drawChart() {

        var data = google.visualization.arrayToDataTable([
          ['Task', 'Hours per Day'],
          ['A+', <%= @f_count_a %>],
          ['B+', <%= @f_count_b %>],
          ['C+', <%= @f_count_c %>]
         
        ]);

        var options = {
          title: 'My Daily Activities',
          backgroundColor: '#F5F5F5',
          chartArea:{left:0,top:0,width:"100%",height:"100%"},
          height: 300,
          width: 300,
          fontSize: 13
        };

        var chart = new google.visualization.PieChart(document.getElementById('piechart_6'));

        chart.draw(data, options);
      }
    </script>
   <!-- 소통 chart 끝 -->
   
   <!-- 분야별 평균 chart 시작 -->
   <script type="text/javascript">
    google.load("visualization", "1", {packages:["corechart"]});
    google.setOnLoadCallback(drawChart);
    function drawChart() {
      var data = google.visualization.arrayToDataTable([
        ["Element", "Density", { role: "style" } ],
        ["내평균", <%= @user_average_final %>, "#b87333"],
        ["전체평균", <%= @all_average_final %>, "#198D19"],
        ["남성평균", <%= @men_final %>, "#1E22D5"],
        ["여성평균", <%= @women_final %>, "#E225C6"]
      ]);

      var view = new google.visualization.DataView(data);
      view.setColumns([0, 1,
                       { calc: "stringify",
                         sourceColumn: 1,
                         type: "string",
                         role: "annotation" },
                       2]);

      var options = {
        title: "평균 비교",
        height: 500,
         vAxis: {
            viewWindowMode:'explicit',
            viewWindow: {
              max: 4.5,
              min: 2.5
            }
        },
        backgroundColor: '#F5F5F5',
        bar: {groupWidth: "10%"},
        legend: { position: "none" },
        fontName: 'Jeju Gothic'
      };

      
      
      var chart = new google.visualization.ColumnChart(document.getElementById("columnchart_values"));
      chart.draw(view, options);
  }
  
  function getValueAt(column, dataTable, row) {
        return dataTable.getFormattedValue(row, column);
      }
  
  </script>
   <!-- 분야별 평균 chart 끝 -->
 
   
 
    <!-- ******HEADER****** --> 
    <header id="header" class="header" style = "z-index:1; background-color:white;">  
        <div class="container">            
            <h1 class="logo pull-left">
                <a href="/">
                    <img src = "/logo.png" style = "width: 180px; height: 50px; " />
                </a>
            </h1><!--//logo-->              
            <nav id="main-nav" class="main-nav navbar-right" role="navigation">
                <div class="navbar-header">
                    <button class="navbar-toggle" type="button" data-toggle="collapse" data-target="#navbar-collapse">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button><!--//nav-toggle-->
                </div><!--//navbar-header-->            
                <div class="navbar-collapse collapse" id="navbar-collapse">
                    <ul class="nav navbar-nav">
                        <li class="nav-item show-list"><a class="scrollto" href="#about">정보</a></li>
                        <li class="nav-item show-list"><a class="scrollto" href="#features">과목평균</a></li>
                        <li class="nav-item show-list"><a class="scrollto" href="#docs">점수빈도</a></li>
                        <li class="nav-item show-list"><a class="scrollto" href="#license">평균비교</a></li>                        
                        <li class="nav-item show-list"><a class="scrollto" href="#contact">등록정보</a></li>    
                    </ul><!--//nav-->
                </div><!--//navabr-collapse-->
            </nav><!--//main-nav-->
        </div>
    </header><!--//header-->
    
    
    

    <!-- ******ABOUT****** --> 
    <section id="about" class="about section">
        <div> <!-- 배경 이미지 시작 -->
            <img src = "/background.jpg" style = "width: 100%; height:350px;">
        </div> <!-- 배경 이미지 끝 -->
        <div class="container" >
            <div class="title text-center imageing" style = "margin: -30px">
                <img src="<%= @pro.img %>" alt="..." class="img-thumbnail" style = "width: 200px; height: 200px">
            </div>
            <p class="text-center" >
                <span class = "professor_name_font"><%= @pro.name %></span> <br>
                <span class = "professor_space_font"><%= @pro.space %></span>
                
            </p><br>
            <div class = "row">
                <div class = "col-md-3"></div>
                <div class = "col-md-6" style = "border-style: solid; border-color: #525252; position: relative" >
                    <div class = "col-md-4" style ="border-right: solid #525252; text-align: center;"><span class = "font_main"><%= @pro.phone %></span> <br><span class="glyphicon glyphicon-earphone" aria-hidden="true"></span><span class = "font_sub">phone</span></div>
                    <div class = "col-md-4" style ="border-right: solid #525252; text-align: center;" ><span class = "font_main"><%= @pro.email %></span> <br><span class="glyphicon glyphicon-envelope" aria-hidden="true"></span><span class = "font_sub">E-mail</span></div>
                    <% if @user.nil? %>
                    <div class = "col-md-4" style =" text-align:center;">
                        
                        
                        <button type="button" class="btn btn-primary" style = "height: 50px; margin-top: 3px;" data-toggle="modal" data-target="#exampleModal" data-whatever="@getbootstrap">점수주기</button>
                        <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                          <div class="modal-dialog">
                            <div class="modal-content">
                              <div class="modal-header">
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                                <h4 class="modal-title" id="exampleModalLabel">평가하기</h4>
                              </div>
                              <div class="modal-body">
                                <form action = "/home/save" method = "GET">
                                    <input type = "hidden" name = "professor_id" value = "<%= @pro.id %>"> <!-- 교수님 고유값 -->
                                    <button type="button" class="btn btn-warning" style = "margin-right:10px;">학점</button>
                                    <div class="btn-group" data-toggle="buttons">
                                      <label class="btn btn-primary active">
                                        <input type="radio" checked="checked" name="options_1" value = "4.5" autocomplete="off" > A+
                                      </label>
                                      <label class="btn btn-primary">
                                        <input type="radio" name="options_1" value = "3.5"  autocomplete="off"> B+
                                      </label>
                                      <label class="btn btn-primary">
                                        <input type="radio" name="options_1" value = "2.5"  autocomplete="off"> C+
                                      </label>
                                    </div>
                                    <br><br>
                                    <button type="button" class="btn btn-warning" style = "margin-right:10px;">시험</button>
                                    <div class="btn-group" data-toggle="buttons">
                                      <label class="btn btn-primary active">
                                        <input type="radio" checked="checked" name="options_2" value = "4.5"  autocomplete="off" > A+
                                      </label>
                                      <label class="btn btn-primary">
                                        <input type="radio" name="options_2" value = "3.5"  autocomplete="off"> B+
                                      </label>
                                      <label class="btn btn-primary">
                                        <input type="radio" name="options_2" value = "2.5"  autocomplete="off"> C+
                                      </label>
                                    </div>
                                    <br><br>
                                    <button type="button" class="btn btn-warning" style = "margin-right:10px;">과제</button>
                                    <div class="btn-group" data-toggle="buttons">
                                      <label class="btn btn-primary active">
                                        <input type="radio" checked="checked" name="options_3" value = "4.5"  autocomplete="off" > A+
                                      </label>
                                      <label class="btn btn-primary">
                                        <input type="radio" name="options_3" value = "3.5"  autocomplete="off"> B+
                                      </label>
                                      <label class="btn btn-primary">
                                        <input type="radio" name="options_3" value = "2.5"  autocomplete="off"> C+
                                      </label>
                                    </div>
                                    <br><br>
                                    <button type="button" class="btn btn-warning" style = "margin-right:10px;">강의</button>
                                    <div class="btn-group" data-toggle="buttons">
                                      <label class="btn btn-primary active">
                                        <input type="radio" checked="checked" name="options_4" value = "4.5"  autocomplete="off" > A+
                                      </label>
                                      <label class="btn btn-primary">
                                        <input type="radio" name="options_4" value = "3.5"  autocomplete="off"> B+
                                      </label>
                                      <label class="btn btn-primary">
                                        <input type="radio" name="options_4" value = "2.5"  autocomplete="off"> C+
                                      </label>
                                    </div>
                                    <br><br>
                                    <button type="button" class="btn btn-warning" style = "margin-right:10px;">재미</button>
                                    <div class="btn-group" data-toggle="buttons">
                                      <label class="btn btn-primary active">
                                        <input type="radio" checked="checked"  name="options_5" value = "4.5"  autocomplete="off" > A+
                                      </label>
                                      <label class="btn btn-primary">
                                        <input type="radio" name="options_5" value = "3.5"  autocomplete="off"> B+
                                      </label>
                                      <label class="btn btn-primary">
                                        <input type="radio" name="options_5" value = "2.5"  autocomplete="off"> C+
                                      </label>
                                    </div>
                                    <br><br>
                                    <button type="button" class="btn btn-warning" style = "margin-right:10px;">팀플</button>
                                    <div class="btn-group" data-toggle="buttons">
                                      <label class="btn btn-primary active">
                                        <input type="radio" checked="checked" name="options_6" value = "4.5" autocomplete="off"  > A+
                                      </label>
                                      <label class="btn btn-primary">
                                        <input type="radio" name="options_6" value = "3.5" autocomplete="off"  > B+
                                      </label>
                                      <label class="btn btn-primary">
                                        <input type="radio" name="options_6" value = "2.5" autocomplete="off"  > C+
                                      </label>
                                    </div>
                                    <br><br>
                                    <label for="course">수강과목</label>
                                    <input type = "text" class="form-control" name = "course" id = "course" placeholder = "수강과목을 적어주세요">
                                    <br><br>
                                    <label for="comment">한줄 입력</label>
                                    <textarea class="form-control"  name = "comment" id = "comment" rows="3" placeholder = "한마디 남겨주세요"></textarea>
                                    <br><br>
                                  <div class="modal-footer">
                                    <button type="button" class="btn btn-default" data-dismiss="modal">닫기</button>
                                    <button type="submit" class="btn btn-primary" id = "checking">제출</button>
                                  </div>
                                </form>
                              </div>
                              
                            </div>
                          </div>
                          </div>
                        </div>
                        <% else %>
                        <div class = "col-md-4 col-sm-12">
                            <% if @all_average_final >= 4.3 %>    
                                <div class = "a_style">
                                    <span data-toggle="tooltip" data-placement="right" title="전체평균: <%= @all_average_final %>" style="cursor:pointer" >A+</span>
                                </div>
                            <% elsif @all_average_final > 4.0 and @all_average_final < 4.3 %>
                                <div class = "a_style">
                                    <span data-toggle="tooltip" data-placement="right" title="전체평균: <%= @all_average_final %>" style="cursor:pointer" >A</span>
                                </div>
                            <% elsif @all_average_final >= 3.5 %>
                                <div class = "b_style">
                                    <span data-toggle="tooltip" data-placement="right" title="전체평균: <%= @all_average_final %>" style="cursor:pointer" >B+</span>
                                </div>
                            <% elsif @all_average_final >= 3.0 %>
                                <div class = "b_style">
                                    <span data-toggle="tooltip" data-placement="right" title="전체평균: <%= @all_average_final %>" style="cursor:pointer" >B</span>
                                </div>
                            <% elsif @all_average_final >= 2.0 %>
                                <div class = "c_style">
                                    <span data-toggle="tooltip" data-placement="right" title="전체평균: <%= @all_average_final %>" style="cursor:pointer" >C+</span>
                                </div>
                            <% end %>
                        </div>
                        <% end %>
                        
                        
                </div>    
                <div class = "col-md-3"></div>
            
        </div><!--//container-->
    </section><!--//about-->
    
    <% unless @user.nil? %>
    <!--과목별 평균 띠 시작-->
    <section id="features" class="features section" style = "padding-top: 30px; padding-bottom: 0px;">
        <div class = "row">
            <div class = "col-md-1"></div>
            <div class = "col-md-10">
                <h2 class="title" style = "text-align:center;">과목별 평균</h2>
                <h4 class = "sub_title" style = "color:white; text-align:center;">-본인이 평가한 항목별 점수와 다른 학우들이 평가한 항목별 평균 점수를 비교할 수 있습니다.-</h4>
            </div>
            <div class = "col-md-1"></div>
        </div>
    </section>
    <!--과목별 평균 띠 끝-->
    
    <!-- ******과목별 평균 그래프****** --> 
    <section id="about" class="about section">
        <div class="container">
            <div id="container_course" style="width: 80%; height: 600px; margin: 0 auto"></div>
        </div><!--//container-->
    </section><!--//about-->
    
    <!-- ******점수 빈도 띠 ****** --> 
     <section id="docs" class="features section" style = "padding-top: 30px; padding-bottom: 0px;">
        <div class = "row">
            <div class = "col-md-1"></div>
            <div class = "col-md-10">
                <h2 class="title" style = "text-align:center;">점수 빈도</h2>
                <h4 class = "sub_title" style = "color:white; text-align:center;">-항목에 해당하는 점수에 몇명이 평가했는지 점수 빈도를 알수 있습니다.-</h4>
            </div>
            <div class = "col-md-1"></div>
        </div>
    </section>
     <!-- ******점수 빈도 그래프 ****** --> 
     <section id="about" class="about section">
        <div class="container">
            <div class="row">
                <div class="item col-md-4 col-sm-6 col-xs-12">
                    <div class="icon-holder">
                        <i class="fa fa-heart"></i>
                    </div>
                    <div class="content">
                        <h3 class="sub-title">학점</h3>
                        <div id="piechart" style="width: 300px; height: 300px;"></div>
                    </div><!--//content-->
                </div><!--//item-->
                <div class="item col-md-4 col-sm-6 col-xs-12">
                    <div class="icon-holder">
                        <i class="fa fa-clock-o"></i>
                    </div>
                    <div class="content">
                        <h3 class="sub-title">시험</h3>
                        <div id="piechart_2" style="width: 300px; height: 300px;"></div>
                    </div><!--//content-->
                </div><!--//item-->
                <div class="item col-md-4 col-sm-6 col-xs-12">
                    <div class="icon-holder">
                        <i class="fa fa-crosshairs"></i>
                    </div>
                    <div class="content">
                        <h3 class="sub-title">과제</h3>
                        <div id="piechart_3" style="width: 300px; height: 300px;"></div>
                    </div><!--//content-->
                </div><!--//item-->           
                <div class="clearfix visible-md"></div>    
                <div class="item col-md-4 col-sm-6 col-xs-12">
                    <div class="icon-holder">
                        <i class="fa fa-tablet"></i>
                    </div>
                    <div class="content">
                        <h3 class="sub-title">강의력</h3>
                        <div id="piechart_4" style="width: 300px; height: 300px;"></div>
                    </div><!--//content-->
                </div><!--//item-->                
                <div class="item col-md-4 col-sm-6 col-xs-12">
                    <div class="icon-holder">
                        <i class="fa fa-code"></i>
                    </div>
                    <div class="content">
                        <h3 class="sub-title">재미</h3>
                        <div id="piechart_5" style="width: 300px; height: 300px;"></div>
                    </div><!--//content-->
                </div><!--//item-->
                <div class="item col-md-4 col-sm-6 col-xs-12">
                    <div class="icon-holder">
                        <i class="fa fa-coffee"></i>
                    </div>
                    <div class="content">
                        <h3 class="sub-title">팀플</h3>
                        <div id="piechart_6" style="width: 300px; height: 300px;"></div>
                    </div><!--//content-->
                </div><!--//item--> 
                
                
               
            </div><!--//row-->            
        </div><!--//container-->
    </section><!--//about-->
    
    <!-- ******평균 비교 띠 ****** --> 
     <section id="license" class="features section" style = "padding-top: 30px; padding-bottom: 0px;">
        <div class = "row">
            <div class = "col-md-1"></div>
            <div class = "col-md-10">
                <h2 class="title" style = "text-align:center;">평균 비교</h2>
                <h4 class = "sub_title" style = "color:white; text-align:center;">-항목별 평균을 비교할 수 있습니다.-</h4>
            </div>
            <div class = "col-md-1"></div>
        </div>
    </section>
     <!-- ******평균 비교 그래프 ****** --> 
     <section id="about" class="about section">
        <div class="container">
            <div class="row">
                <!--평균 비교 -->
                <div class="item col-md-12 col-sm-12 col-xs-12">
                    <div class="content"  >
                            <div id="columnchart_values" style = "width: 100%;"></div>        
                    </div><!--//content-->
                </div><!--//item--> 
                <% end %>
            </div><!--//row-->            
        </div><!--//container-->
    </section><!--//about-->
    
    
    
    <!-- ******FEATURES****** --> 
    <section id="features" class="features section" style = "padding-top: 30px; padding-bottom: 0px;">
        <div class = "row">
            <div class = "col-md-1"></div>
            <div class = "col-md-10">
                <h2 class="title" style = "text-align:center;">등록 정보</h2>
            </div>
            <div class = "col-md-1"></div>
        </div>
    </section><!--//features-->
    
 

    
    <!-- ******LICENSE****** --> 
    <section id="contact" class="license section">


        <% @checks.reverse_each do |x| %>
        <div class="container" style = "margin-bottom: 20px;">
            <div class="license-inner">
            <table class="table table-hover">
              <thead>
                <tr>
                  <th>학번</th>
                  <th>수강과목</th>
                  <th>평점</th>
                  <th>등록일</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>
                      <% @admissions = User.where(:email => x.user_email).take %>
                      <%= @admissions.admission.split(/20/)[1] %>학번
                  </td>
                  <td><%= x.course %></td>
                  <td><%= ((x.a + x.b + x.c + x.d + x.e + x.f)/6).round(1) %></td>
                  <td><%= x.created_at.to_s.split(" ")[0] %></td>
                </tr>
              </tbody>
            </table> 
            <table class="table table-hover">
              <thead>
                <tr>
                  <th style = "text-align: center;">한마디</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td style = "text-align: center;"><%= x.comment %></td>
                </tr>
              </tbody>
            </table> 
            </div><!--//cta-container-->
        </div><!--//license-inner-->
        <% end %>
        
    </section><!--//how-->
    
    <% unless @user.nil? %>
    <script>
        $(function () {

        $('#container_course').highcharts({

        chart: {
            polar: true,
            type: 'line'

        },

        title: {
            text: '과목별 평균',
            
        },

        pane: {
            size: '80%'
        },

        xAxis: {
            categories: ['학점', '시험', '과제', '강의력',
                    '재미', '팀플'],
            tickmarkPlacement: 'on',
            lineWidth: 0
            
        },

        yAxis: {
            
            
            gridLineInterpolation: 'polygon',
            lineWidth: 0,
            min: 2,
            max: 4.5
            
        },

        legend: {
            align: 'right',
            verticalAlign: 'top',
            y: 70,
            layout: 'vertical'
          
        },

        series: [{
            name: '평균',
            data: [<%= @a_average %>, <%= @b_average %>, <%= @c_average %>, <%= @d_average %>, <%= @e_average %>, <%= @f_average %>],
            pointPlacement: 'on'
        }, {
            name: '내점수',
            data: [<%= @user.a %>, <%= @user.b %>, <%= @user.c %>, <%= @user.d %>, <%= @user.e %>, <%= @user.f %>],
            pointPlacement: 'on'
        }]

    });
});
    </script>    
<% end %>
    
    <%= render :partial => "home/footer" %> <!-- 만든이 불러 오기 --!>
    


